<%= render "shared/airport_nav" %>
<% if current_user.present? %>
  <%= render "shared/my_flight", flights: @flights %>
<% end %>
<div class="container">
  <div class="row justify-content-center terminal-header">
    <div class="col-12 col-md-9 mt-2 py-1 padx-4">
        <h1 class="mt-2 mb-3 h2 text-center"><strong>Facilities</strong></h1>
    </div>
  </div>
</div>
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-12 col-md-9 mt-2 p-0">
          <div class="accordion mb-5" id="accordionExample">
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingOne">
                <button class="accordion-button p-2" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                  <%= @facility_categories.find(1).name%>
                </button>
              </h2>
              <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  <div class="row facilities__body">
                  <% if @facilities.length > 0 %>
                    <% @facilities.where(facility_category_id: 1).each do |facility|%>
                      <div class="facilities__card col-6 col-sm-6 col-m-3 mb-3">
                        <div class="card h-100 border-0 shadow-sm">
                          <div class="card-body facilities__card--body d-flex flex-column justify-content-center align-items-center align-content-center">
                            <h3 class="card-title text-center m-0 text-wrap word-break w-100 fs-6"><%= facility.title%></h3>
                          </div>
                        </div>
                      </div>
                    <%end%>
                  <% else %>
                  <div class="facilities__card col-6 col-sm-6 col-m-3 mb-3">
                        <div class="card h-100 border-0 shadow-sm">
                          <div class="card-body facilities__card--body d-flex flex-column justify-content-center align-items-center align-content-center">
                            <h3 class="card-title text-center m-0 text-wrap word-break w-100 fs-6">We'll be adding facilities to this airport soon</h3>
                          </div>
                        </div>
                      </div>
                  <% end %>
                  </div>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingTwo">
                <button class="accordion-button p-2 collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                  <%= @facility_categories.find(2).name%>
                </button>
              </h2>
              <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  <div class="row facilities__body">
                    <% @facilities.where(facility_category_id: 2).each do |facility|%>
                      <div class="facilities__card col-6 col-sm-6 col-m-3 mb-3">
                        <div class="card h-100 border-0 shadow-sm">
                          <div class="card-body facilities__card--body d-flex flex-column justify-content-center align-items-center align-content-center">
                            <h3 class="card-title text-center m-0 text-wrap word-break w-100 fs-6"><%= facility.title%></h3>
                          </div>
                        </div>
                      </div>
                    <%end%>
                  </div>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingThree">
                <button class="accordion-button p-2 collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                  <%= @facility_categories.find(3).name%>
                </button>
              </h2>
              <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <div class="row facilities__body">
                    <% @facilities.where(facility_category_id: 3).each do |facility|%>
                      <div class="facilities__card col-6 col-sm-6 col-m-3 mb-3">
                        <div class="card h-100 border-0 shadow-sm">
                          <div class="card-body facilities__card--body d-flex flex-column justify-content-center align-items-center align-content-center">
                            <h3 class="card-title text-center m-0 text-wrap word-break w-100 fs-6"><%= facility.title%></h3>
                          </div>
                        </div>
                      </div>
                    <%end%>
                  </div>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingFour">
                <button class="accordion-button p-2 collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                  <%= @facility_categories.find(4).name%>
                </button>
              </h2>
              <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <div class="row facilities__body">
                    <% @facilities.where(facility_category_id: 4).each do |facility|%>
                      <div class="facilities__card col-6 col-sm-6 col-m-3 mb-3">
                        <div class="card h-100 border-0 shadow-sm">
                          <div class="card-body facilities__card--body d-flex flex-column justify-content-center align-items-center align-content-center">
                            <h3 class="card-title text-center m-0 text-wrap word-break w-100 fs-6"><%= facility.title%></h3>
                          </div>
                        </div>
                      </div>
                    <%end%>
                  </div>
                </div>
              </div>
            </div>

            <div class="accordion-item">
              <h2 class="accordion-header" id="headingSix">
                <button class="accordion-button p-2 collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                  <%= @facility_categories.find(6).name%>
                </button>
              </h2>
              <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <div class="row facilities__body">
                    <% @facilities.where(facility_category_id: 6).each do |facility|%>
                      <div class="facilities__card col-6 col-sm-6 col-m-3 mb-3">
                        <div class="card h-100 border-0 shadow-sm">
                          <div class="card-body facilities__card--body d-flex flex-column justify-content-center align-items-center align-content-center">
                            <h3 class="card-title text-center m-0 text-wrap word-break w-100 fs-6"><%= facility.title%></h3>
                          </div>
                        </div>
                      </div>
                    <%end%>
                  </div>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingSeven">
                <button class="accordion-button p-2 collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSeven" aria-expanded="false" aria-controls="collapseSeven">
                  <%= @facility_categories.find(7).name%>
                </button>
              </h2>
              <div id="collapseSeven" class="accordion-collapse collapse" aria-labelledby="headingSeven" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  <div class="row facilities__body">
                  <% @facilities.where(facility_category_id: 7).each do |facility|%>
                    <div class="facilities__card col-6 col-sm-6 col-m-3 mb-3">
                      <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body facilities__card--body d-flex flex-column justify-content-center align-items-center align-content-center">
                          <h3 class="card-title text-center m-0 text-wrap word-break w-100 fs-6"><%= facility.title%></h3>
                        </div>
                      </div>
                    </div>
                  <%end%>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
